{"version":3,"sources":["userModel.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"userM.js","sourcesContent":["angular.module('estagioApp')\r\n.factory('userModel', ['$http', '$cookies', function ($http, $cookies) {\r\n    var userModel = {};\r\n    userModel.doLogin = function (userdata) {\r\n           return $http({\r\n                headers:{\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                url: 'http://localhost:8000/api/auth',\r\n                method: 'POST',\r\n                data:{\r\n                    email: userdata.email,\r\n                    senha: userdata.senha\r\n                }\r\n            }).then(function (succesResponse) {\r\n                console.log(succesResponse);\r\n                $cookies.put('auth', JSON.stringify(succesResponse));\r\n            }, function (error) {\r\n                alert(error.status===403? \"Usu√°rio ou senha Incorretos!\":\"Ocorreu um erro interno! Lamentamos o ocorrido. Tente novamente mais tarde.\");\r\n            });\r\n        };\r\n\r\n    userModel.getAuthStatus = function () {\r\n        var status = $cookies.get('auth');\r\n        if(status)\r\n            return true;\r\n        return false;\r\n    };\r\n\r\n    userModel.getUserObject = function(){\r\n      var userObj = angular.fromJson($cookies.get('auth'));\r\n      return userObj;\r\n    };\r\n\r\n    userModel.doUserLogout = function () {\r\n        $cookies.remove('auth');\r\n    };\r\n\r\n        return userModel;\r\n}]);"]}